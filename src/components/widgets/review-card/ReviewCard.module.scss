@use "/src/styles/tokens/semantics" as *;

.review-card {
	background-color: var(--s-color-bg-secondary);
	border-radius: 16px;
	padding: var(--s-spacing-5);
	transition: scale 0.2s ease, box-shadow 0.2s ease;

	@include screen-md {
		padding: var(--s-spacing-6);
	}

	@include screen-mouse-first {
		&:hover {
			scale: 1.02;
			box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
		}
	}

	@include screen-touch-first {
		&:active {
			scale: 1.02;
		}
	}

	&__header {
		display: flex;
		justify-content: space-between;
		align-items: flex-start;
		margin-bottom: var(--s-spacing-5);
		flex-wrap: wrap;
		gap: var(--s-spacing-4);
	}

	&__user {
		display: flex;
		align-items: center;
		gap: var(--s-spacing-4);
	}

	&__avatar {
		width: 48px;
		height: 48px;
		border-radius: 50%;
		object-fit: cover;
		flex-shrink: 0;
	}

	&__user-info {
		display: flex;
		flex-direction: column;
		gap: var(--s-spacing-2);
	}

	&__username {
		color: var(--s-color-fg-primary);
		text-decoration: none;
		transition: color 0.2s ease;
		
		@include screen-mouse-first {
			&:hover {
				color: var(--s-color-fg-secondary);
			}
		}
	}

	&__date {
		color: var(--s-color-fg-secondary);
	}

	&__score {
		display: flex;
		align-items: baseline;
		gap: var(--s-spacing-2);
		padding: var(--s-spacing-3) var(--s-spacing-5);
		background-color: var(--s-color-bg-warning);
		border-radius: 12px;
		flex-shrink: 0;

		* {
			color: #000000 !important;
		}
	}

	&__score-value {
		color: #000000 !important;
		font-weight: 700;
	}

	&__score-label {
		color: #000000 !important;
		opacity: 0.7;
	}

	&__entry {
		display: flex;
		align-items: center;
		gap: var(--s-spacing-4);
		padding: var(--s-spacing-4);
		background-color: var(--s-color-bg-base);
		border-radius: 12px;
		text-decoration: none;
		margin-bottom: var(--s-spacing-5);
		transition: scale 0.2s ease;

		@include screen-mouse-first {
			&:hover {
				scale: 1.02;
			}
		}

		@include screen-touch-first {
			&:active {
				scale: 1.02;
			}
		}
	}

	&__entry-image {
		width: 50px;
		height: 70px;
		object-fit: cover;
		border-radius: 8px;
		flex-shrink: 0;
	}

	&__entry-title {
		color: var(--s-color-fg-primary);
		@include number-of-lines(2);
	}

	&__badges {
		display: flex;
		flex-wrap: wrap;
		gap: var(--s-spacing-3);
		margin-bottom: var(--s-spacing-5);
	}

	&__badge {
		padding: var(--s-spacing-2) var(--s-spacing-4);
		background-color: var(--s-color-bg-base);
		color: var(--s-color-fg-secondary);
		border-radius: 8px;
		font-size: 0.875rem;
		font-weight: 600;

		&--spoiler {
			background-color: var(--s-color-bg-error);
			color: #000000 !important;
		}

		&--preliminary {
			background-color: var(--s-color-bg-info);
			color: #000000 !important;
		}
	}

	&__content {
		margin-bottom: var(--s-spacing-5);
	}

	&__text {
		color: var(--s-color-fg-primary);
		line-height: 1.7;
		white-space: pre-wrap;
	}

	&__expand-btn {
		margin-top: var(--s-spacing-4);
		padding: var(--s-spacing-3) var(--s-spacing-6);
		background-color: transparent;
		border: 2px solid var(--s-color-bg-secondary);
		border-radius: 24px;
		color: var(--s-color-fg-primary);
		font-size: 0.875rem;
		font-weight: 600;
		cursor: pointer;
		transition: scale 0.2s ease, border-color 0.2s ease;

		@include screen-mouse-first {
			&:hover {
				scale: 1.05;
				border-color: var(--s-color-fg-secondary);
			}
		}

		@include screen-touch-first {
			&:active {
				scale: 1.05;
			}
		}
	}

	&__footer {
		padding-top: var(--s-spacing-5);
		border-top: 1px solid var(--s-color-bg-base);
	}

	&__reactions {
		display: flex;
		gap: var(--s-spacing-6);
		flex-wrap: wrap;
	}

	&__reaction {
		display: flex;
		align-items: center;
		gap: var(--s-spacing-2);
	}

	&__reaction-emoji {
		font-size: 1.25rem;
	}
}
